3 table join =>
SELECT c.name, o.order_id, p.amount
FROM customers c
JOIN orders o ON c.customer_id = o.customer_id
JOIN payments p ON o.order_id = p.order_id;


3 table left join =>
SELECT e.name, d.dept_name, l.city
FROM employees e
LEFT JOIN departments d ON e.dept_id = d.dept_id
LEFT JOIN locations l ON d.dept_id = l.dept_id;


1. What is SQL?
=> â€¢ SQL stands for Structured Query Language. It is used for storing and managing data in Relational Database Management System (RDBMS).
   â€¢ It is a standard language for Relational Database System. It enables a user to create, read, update and delete relational databases and tables.
   â€¢ All the RDBMS like MySQL, Oracle and SQL Server use SQL as their standard database language.
   â€¢ SQL allows users to query the database in a number of ways, using English-like statements.
   â€¢ Using the SQL statements, you can perform most of the actions in a database.


SQL (Structured Query Language) is a standard language used to store, manage, and retrieve data from relational databases.
It is used to:
- Create databases and tables
- Insert, update, delete records
- Query data => fetch data
- Control permissions
- Maintain data integrity

SQL works on relational databases, where data is stored in tables (rows + columns).

ğŸ“Œ Why is SQL needed?
Imagine you have millions of customer records.
You cannot search manually â€” you need a language to interact with the database.
SQL acts as a communication language between the user/program and the database.
ğŸ“Œ Example : Query: Fetch customers from Pune

ğŸ“Œ Key Features of SQL
1ï¸âƒ£ Easy to Learn and Use : SQL uses simple English-like syntax.

2ï¸âƒ£ Faster Query Processing
SQL is optimized for:
Searching, Filtering, Inserting, Updating, Deleting, Aggregating large records
Example: Retrieving 10,000 student records with conditions is almost instant.

4ï¸âƒ£ Supports Large Databases
SQL can handle huge volumes of data (millions of rows) efficiently.
Companies like Amazon, Netflix, and banks rely on SQL databases because of scalability.

5ï¸âƒ£ Supports Multiple Operations
SQL supports all the essential operations for data management:
1) DDL (Create/Alter structure)
2) DML (Insert/Update/Delete data)
3) DQL (Fetch data)
4) DCL (Security/Permissions)
5) TCL (Transactions)
This makes SQL a complete data management language.

6ï¸âƒ£ High Security
SQL helps control database access using permissions.
Example: ****** GRANT SELECT ON Employees TO user1; ****** Query *********
Only the allowed user can access specific tables.

7ï¸âƒ£ Supports ACID Properties (Reliability)
SQL databases guarantee:
- Atomicity
- Consistency
- Isolation
- Durability
This ensures reliable and correct transactions, which is critical in banking, finance, healthcare, etc.

8ï¸âƒ£ Integration With Programming Languages
SQL works easily with: Java (JDBC), Python (MySQL connector, SQLAlchemy), PHP, C#, Node.js
This makes it ideal for full-stack development.

9ï¸âƒ£ Portable Language
SQL works on: PCs, Laptops, Servers, Cloud platforms (AWS RDS, Azure SQL, GCP SQL)
You can move databases from one environment to another easily.

ğŸ”Ÿ Multi-User Support
Many users can access and modify the database at the same time using concurrency control systems.
Example: 1000 users booking tickets â†’ SQL handles all transactions safely.

1ï¸âƒ£1ï¸âƒ£ Powerful Data Analysis & Reporting
SQL supports functions like: SUM, AVG, COUNT, GROUP BY, ORDER BY, JOINS, SUBQUERIES
These help in analytics, reporting, and decision-making.

ğŸ¯ Interview Summary (Short Answer)
SQL is easy to learn, highly secure, fast, reliable, standardized, scalable, supports transactions, integrates well with applications, and can handle large volumes of data efficiently.





ğŸ“Œ SQL vs MySQL (Tabular Difference)
| Feature        | SQL                                         | MySQL                                                          |
| -------------- | ------------------------------------------- | -------------------------------------------------------------- |
| **Definition** | A query language for managing data in RDBMS | A relational database management system (RDBMS)                |
| **Type**       | Language                                    | Software/app                                                   |
| **Purpose**    | Communicate with databases                  | Store and manage data                                          |
| **Functions**  | Querying, updating, creating schema         | Running SQL queries, managing storage, replication, clustering |
| **User**       | Programmers write SQL queries               | Database admins use MySQL to run those queries                 |
| **Security**   | No security by itself (just a language)     | Provides user authentication, SSL, encryption                  |
| **Support**    | Works with any SQL-based DB                 | Supports SQL + MySQL-specific features                         |

ğŸ”§ Example to Understand the Difference
SQL Example (Language): SELECT * FROM Employees WHERE city = 'Pune';
This is SQL â€” the instruction.

MySQL Example (Database executing it)
You run the above query inside MySQL Workbench, and MySQL returns the result:
| id | name  | city |
| -- | ----- | ---- |
| 3  | Suyog | Pune |

MySQL is executing the SQL query.

ğŸ“Œ Key Differences in Simple Words
SQL = Grammar (language)
MySQL = Book written using that grammar (database software)

OR

SQL = What to do
MySQL = Where it is done

ğŸ¯ Interview Short Answer
SQL is a standard language used to communicate with relational databases.
MySQL is a relational database management system that uses SQL to store, retrieve, and manage data.



â­ SQL vs NoSQL (Tabular Difference)
| Feature            | SQL                                          | NoSQL                                                    |
| ------------------ | -------------------------------------------- | -------------------------------------------------------- |
| **Database type**  | Relational (tables)                          | Non-relational (document, key-value, graph, etc.)        |
| **Schema**         | Fixed, predefined schema                     | Dynamic, flexible schema                                 |
| **Data format**    | Structured                                   | Unstructured / Semi-structured                           |
| **Scalability**    | Vertical scaling                             | Horizontal scaling                                       |
| **Query language** | SQL                                          | No fixed language; depends on DB (e.g., MongoDB queries) |
| **Relationships**  | Strong (joins)                               | Weak or none                                             |
| **Transactions**   | Strong ACID support                          | BASE (more flexible, eventual consistency)               |
| **Speed**          | Slower for unstructured, large-scale data    | Very fast for read/write at scale                        |
| **Storage**        | Well-suited for smallâ€“medium structured data | Good for big data, high throughput                       |
| **Best for**       | Banking, ERP, CRM                            | Social networks, IoT, real-time apps                     |
| **Examples**       | MySQL, PostgreSQL                            | MongoDB, Cassandra, Redis                                |


â­ Examples
SQL Example (Relational) : SELECT * FROM Orders WHERE amount > 1000;
Data is stored in structured tables.

NoSQL Example (MongoDB Document)
{
  "name": "Suyog",
  "city": "Pune",
  "skills": ["C++", "SQL", "Node.js"]
}
This is stored in a flexible JSON-like document.


â­ When to Use SQL?
Use SQL when:
âœ” Data is structured
âœ” Relationships are important
âœ” Strong consistency is needed
âœ” Operations require complex queries & joins
âœ” You need ACID transactions
Examples: Banking systems, E-commerce orders/payments, Inventory systems, Enterprise backend apps

â­ When to Use NoSQL?
Use NoSQL when:
âœ” Data is unstructured or semi-structured
âœ” High-speed read/write is required
âœ” You need to scale horizontally
âœ” Schema changes frequently
âœ” Big data or real-time data processing
Examples: Social media platforms, Chat applications, Recommendation systems, IoT sensor data, Logging systems

â­ Short Interview Summary
SQL is relational, structured, schema-based, and good for consistency.
NoSQL is non-relational, schema-less, scalable, and good for big data and real-time apps.



â­ What are SQL Data Types?
SQL Data Types define what kind of value can be stored in a column of a tableâ€”such as:
1ï¸âƒ£ Numeric Data Types
2ï¸âƒ£ String / Character Data Types
3ï¸âƒ£ Date & Time Data Types
4ï¸âƒ£ Boolean Data Type
5ï¸âƒ£ Binary Data Types
6ï¸âƒ£ Special Types (ENUM, SET, JSON)

eg. salary DECIMAL(10, 2)  -- Max 10 digits, 2 after decimal

CHAR(n) =>	Fixed-length text (Faster) eg. gender CHAR(1)
VARCHAR(n)	=> Variable-length text (Most used)  eg. name VARCHAR(50)

âœ” Use CHAR for fixed values like gender ('M', 'F')
âœ” Use VARCHAR for names, emails, addresses


ğŸ·ï¸ 6. Special Data Types (MySQL)
ENUM: Stores a fixed list of values.
      eg. status ENUM('active','inactive','blocked')

ğŸ¯ Interview Short Answer
SQL data types define the kind of data a column holds, such as numeric, string, date/time, boolean, and binary types, ensuring proper storage and efficient processing.




â­ CHAR vs VARCHAR (Very Important DBMS/SQL Interview Topic)
Both CHAR and VARCHAR are string data types, but they store data differently.

ğŸ”¹ 1ï¸âƒ£ CHAR (Fixed-length String) => CHAR stores fixed-length data.

If you define: CHAR(10)
This column will always take 10 characters of storage.
If the input is shorter, SQL will pad it with spaces.

Example:
Value = 'ABC'
Stored as = 'ABC ' (7 trailing spaces)

âœ” Fast for fixed-size data
âœ” Efficient for small, predictable values
âœ” No change in length â†’ faster comparisons


ğŸ”¹ 2ï¸âƒ£ VARCHAR (Variable-length String) => VARCHAR stores variable-length data.

If you define: VARCHAR(10)
It stores only the actual number of characters, plus 1 or 2 bytes to store length metadata.

Example:
Value = 'ABC'
Storage = 3 chars + 1 byte = 4 bytes

âœ” Saves space
âœ” Best when length varies
âœ” Commonly used for names, emails, addresses

â­ CHAR vs VARCHAR (Tabular Difference)
| Feature          | CHAR                             | VARCHAR                    |
| ---------------- | -------------------------------- | -------------------------- |
| **Storage**      | Fixed-length                     | Variable-length            |
| **Speed**        | Faster                           | Slightly slower            |
| **Performance**  | Best for fixed-size data         | Best when data varies      |
| **Padding**      | Pads with spaces                 | No padding                 |
| **Use Case**     | Codes, gender, OTP, country_code | Names, emails, addresses   |
| **Memory Usage** | Always uses full size            | Uses only required memory  |

ğŸ¯ Short Interview Answer
CHAR is used for fixed-length strings and is faster but wastes space.
VARCHAR is used for variable-length strings and saves space but is slightly slower.


******************************************************************************************************************************

â­ What is DDL?
DDL (Data Definition Language) is a set of SQL commands used to define, modify, or delete the structure of database objects such as: Tables, Views, Indexes, Schemas, Constraints
DDL changes the schema of the database.
âœ” Structure-level changes
âœ” Auto-committed (cannot be rolled back in many systems)

â­ Main DDL Commands
CREATE, ALTER, DROP, TRUNCATE, RENAME

ğŸ”¹ 1ï¸âƒ£ CREATE â€” Create new database objects => Used to create a table, database, view, or index.
Example: Create a database => CREATE DATABASE companyDB;

ğŸ”¹ 2ï¸âƒ£ ALTER â€” Modify the structure of an existing table
Used to:
âœ” Add a column
âœ” Delete a column
âœ” Modify a column (change datatype, size, constraints)
âœ” Add/remove constraints => same syntax as Modify a column
âœ” Change Column Name (Rename Column) only in MySQL
âœ” Rename a table

Example: Add a column
ALTER TABLE Employees
ADD email VARCHAR(100);

Example: Modify a column
ALTER TABLE Employees
MODIFY salary DECIMAL(12,2);

Example: Drop a column
ALTER TABLE Employees
DROP COLUMN email;

Example: Change Column Name (Rename Column)  only in MySql
ALTER TABLE Employees
CHANGE name full_name VARCHAR(60);

Add a Constraint => Example: Add NOT NULL
ALTER TABLE Employees
MODIFY name VARCHAR(50) NOT NULL;

Rename a Table
ALTER TABLE old_table
RENAME TO new_table;

ğŸ”¹ 3ï¸âƒ£ DROP â€” Delete database objects permanently => This removes the table and all its data.
DROP TABLE Employees;
DROP DATABASE companyDB;
âš ï¸ This action is permanent. Cannot be rolled back.


ğŸ”¹ 4ï¸âƒ£ TRUNCATE â€” Remove all data but keep structure => Deletes all rows instantly
Resets auto-increment, Much faster than DELETE, Structure remains

Example: TRUNCATE TABLE Employees;
âœ” Table remains
âœ” Rows removed
âœ” Faster because it doesn't log row-by-row deletion


ğŸ”¹ 5ï¸âƒ£ RENAME â€” Change the name of a table
Example: RENAME TABLE Employees TO Staff;

ğŸ¯ Short Interview Answer
DDL commands are used to define and manage the database structure.
They include CREATE, ALTER, DROP, TRUNCATE, and RENAME.
DDL changes the schema and is auto-committed.


ğŸ”¥ TRUNCATE vs DROP vs DELETE (SQL Difference)
| Feature                      | **DELETE**                   | **TRUNCATE**                                  | **DROP**                        |
| ---------------------------- | ---------------------------  | --------------------------------------------- | ------------------------------- |
| **Type**                     | DML (Data Manipulation)      | DDL (Data Definition)                         | DDL (Data Definition)           |
| **Deletes**                  | Specific rows                | All rows                                      | Entire table (structure + data) |
| **WHERE clause**             | âœ… Yes                       | âŒ No                                         | âŒ No                           |
| **Rollback**                 | âœ… Yes (if in a transaction) | âš ï¸ Depends (usually cannot, treated like DDL) | âŒ Cannot                       |
| **Speed**                    | Slow (row-by-row)            | Very fast                                     | Fast                            |
| **Removes table structure?** | âŒ No                        | âŒ No                                         | âœ… Yes                          |


**********************************************************************************************************************************************

ğŸ”¥ DML Commands in SQL
DML (Data Manipulation Language) commands are used to insert, modify, delete, and retrieve data in a database table.
They operate on the data, not on the structure.

âœ… 1. INSERT => Used to insert new rows into a table.
Example 1: Insert single row
INSERT INTO employees (id, name, salary)
VALUES (1, 'Suyog', 50000);

Example 2: Insert multiple rows
INSERT INTO employees (id, name, salary)
VALUES 
(2, 'Amit', 45000),
(3, 'Riya', 60000);

âœ… 2. UPDATE => Used to modify existing rows.
Example:
UPDATE employees
SET salary = 70000
WHERE id = 3;

Update all rows (âš ï¸ risky)
UPDATE employees
SET salary = salary + 5000;

âœ… 3. DELETE => Used to delete specific rows.
Example:
DELETE FROM employees
WHERE id = 2;

Delete all rows (but keep structure)
DELETE FROM employees;

âœ… 4. SELECT => Used to retrieve data from a table.
Example:
SELECT name, salary
FROM employees
WHERE salary > 50000;


â“ Is SELECT a DML command? ğŸ‘‰ Yes. SELECT retrieves data, so it is considered part of DML.
â“ Can DML operations be rolled back? ğŸ‘‰ Yes, DML commands can be rolled back if inside a transaction.


*******************************************************************************************************************************************

ğŸ”¥ DCL Commands in SQL (Data Control Language)

DCL commands are used to control access, permissions, and security of the database.

There are two main DCL commands: 1ï¸âƒ£ GRANT, 2ï¸âƒ£ REVOKE

âœ… 1. GRANT : Used to give permissions to a user on database objects (tables, views, etc.)
Example: Give SELECT permission
GRANT SELECT ON employees TO user1;

Example: Give multiple permissions
GRANT SELECT, INSERT, UPDATE
ON employees
TO user1;

Example: Give all permissions
GRANT ALL PRIVILEGES ON employees TO user1;

âœ… 2. REVOKE : Used to take back permissions previously granted.
Example: Remove SELECT permission
REVOKE SELECT ON employees FROM user1;

Example: Remove all privileges
REVOKE ALL PRIVILEGES ON employees FROM user1;


******************************************************************************************************************************************************

ğŸ”¥ TCL Commands in SQL (Transaction Control Language)
TCL commands are used to manage transactions in a database.
A transaction is a set of SQL operations that are executed as a single unit â€” either all succeed or all fail.

TCL Includes These Commands: 1ï¸âƒ£ COMMIT, 2ï¸âƒ£ ROLLBACK, 3ï¸âƒ£ SAVEPOINT

âœ… 1. COMMIT : Permanently saves all changes made in the current transaction.

Example:

BEGIN;
UPDATE accounts SET balance = balance - 500 WHERE id = 1;
UPDATE accounts SET balance = balance + 500 WHERE id = 2;
COMMIT;

ğŸ‘‰ After COMMIT, changes cannot be undone.


âœ… 2. ROLLBACK : Undoes all changes made in the current transaction.

Example:

BEGIN;
DELETE FROM employees WHERE id = 10;
ROLLBACK;

ğŸ‘‰ The DELETE action is undone.


âœ… 3. SAVEPOINT : Creates a checkpoint in a transaction so you can roll back partially, not the entire transaction.

Example:

BEGIN;
UPDATE accounts SET balance = balance - 1000 WHERE id = 1;
SAVEPOINT sp1;
UPDATE accounts SET balance = balance - 500 WHERE id = 1;
ROLLBACK TO sp1;
COMMIT;

ğŸ“Œ Meaning:
First update is kept
Second update is undone


**********************************************************************************************************
ğŸ”¥ DQL (Data Query Language)
DQL is a subset of SQL used to retrieve data from the database.
It focuses only on querying data, not modifying it.

âœ… Main DQL Command: SELECT
There is only one DQL command, and that is: â¡ï¸ SELECT

Used to query and fetch data from one or more tables.
ğŸ“Œ Interview Summary
DQL = SELECT
Used to fetch/query data
Does NOT modify data
Part of SQL that deals with reading data only


********************************************************************************************************************************

ğŸ”¥ SQL Operators
SQL operators are symbols or keywords used to perform operations on data in queries.
They are mainly used inside WHERE, HAVING, and SELECT statements.

Operators are divided into several types:
1ï¸âƒ£ Arithmetic Operators => % ( modulo operator ) -> reminder
2ï¸âƒ£ Comparison (Relational) Operators => <> is same to !=
3ï¸âƒ£ Logical Operators => AND,	OR,  NOT
4ï¸âƒ£ Bitwise Operators => & (and), ^ (xor), | (or)  => SELECT 5 & 3;   -- Output: 1
5ï¸âƒ£ Special / Other Operators => IN, NOT IN, BETWEEN, LIKE, IS NULL / IS NOT NULL, EXISTS, ANY / ALL



1ï¸âƒ£ BETWEEN => Used to check range (inclusive).

Example:
SELECT * FROM employees
WHERE salary BETWEEN 30000 AND 60000;

âœ” Includes 30000 and 60000.
âœ” Works with numbers, dates, text.


2ï¸âƒ£ IN => Used to match multiple values.
Example:
SELECT * FROM employees
WHERE department IN ('IT', 'HR', 'Finance');

âœ” Same as using multiple OR conditions
âœ” Cleaner and faster


3ï¸âƒ£ NOT IN => Opposite of IN.
SELECT * FROM employees
WHERE department NOT IN ('Sales', 'Marketing');


4ï¸âƒ£ LIKE => Used for pattern matching with wildcards.

Wildcards:
| Symbol | Meaning                  |
| ------ | ------------------------ |
| `%`    | any number of characters |
| `_`    | exactly one character    |

Examples:
SELECT * FROM employees WHERE name LIKE 'S%';   -- starts with S
SELECT * FROM employees WHERE name LIKE '%n';   -- ends with n
SELECT * FROM employees WHERE name LIKE '%an%'; -- contains 'an'
SELECT * FROM employees WHERE name LIKE '_a%';  -- 2nd letter is a



5ï¸âƒ£ IS NULL / IS NOT NULL
âœ” You cannot use = NULL or != NULL
âŒ Wrong â†’ WHERE manager_id = NULL
SELECT * FROM employees WHERE manager_id IS NOT NULL;
SELECT * FROM employees WHERE manager_id IS NULL;


7ï¸âƒ£ EXISTS => Returns TRUE if the subquery returns at least one row.
Example:
SELECT name FROM employees e
WHERE EXISTS (
    SELECT 1 FROM projects p WHERE p.emp_id = e.id
);

âœ” Used for checking existence
âœ” Faster than IN for large data
âœ” Very important for interviews


8ï¸âƒ£ NOT EXISTS => Opposite of EXISTS.
Example:
SELECT name FROM employees e
WHERE NOT EXISTS (
    SELECT 1 FROM projects p WHERE p.emp_id = e.id
);

Finds employees with no projects.


9ï¸âƒ£ ANY => Condition must be true for at least one value.
Example:
SELECT * FROM employees
WHERE salary > ANY (SELECT salary FROM interns);

Meaning: salary > smallest intern salary


ğŸ”Ÿ ALL => Condition must be true for all values.
Example:
SELECT * FROM employees
WHERE salary > ALL (SELECT salary FROM interns);

Meaning: salary > highest intern salary


********************************************************
ğŸ”¥ IN vs EXISTS (Most Asked SQL Interview Question)
Both IN and EXISTS are used with subqueries, but they work differently internally.

âœ… 1ï¸âƒ£ IN â€” compares values
IN checks whether a value is present in a list returned by a subquery.
Example:
SELECT name FROM employees
WHERE id IN (SELECT emp_id FROM projects);

â¡ Finds employees who have projects.
â¡ Subquery returns a list â†’ main query checks membership.


âœ… 2ï¸âƒ£ EXISTS â€” checks existence of rows
EXISTS returns TRUE if the subquery returns at least one row.
Example:
SELECT name FROM employees e
WHERE EXISTS (
    SELECT 1 FROM projects p WHERE p.emp_id = e.id
);

â¡ Also finds employees who have projects,
but it works differently internally.


ğŸ”¥ Real Difference (Very Important)

âœ” EXISTS is correlated => Subquery depends on outer query.
WHERE EXISTS (
      SELECT 1 FROM projects p 
      WHERE p.emp_id = e.id
)

For each employee, SQL checks if a matching project exists.


âœ” IN stores values from the subquery and compares
WHERE id IN (SELECT emp_id FROM projects)

The subquery returns a list of IDs first.


ğŸš€ Performance Difference
âœ” Use EXISTS when the outer table is large => EXISTS stops as soon as it finds a match â†’ faster.
âœ” Use IN when the subquery result is small => IN compares values â†’ faster when few values.


âš ï¸ Very Important Case: NULL values

Suppose the subquery returns a NULL:

SELECT emp_id FROM projects;

If one emp_id is NULL:

â¤ IN breaks!
WHERE id IN (NULL) â†’ always FALSE

â¤ EXISTS works fine (NULL doesnâ€™t matter)

Exists checks only rows, not values.

ğŸ‘‰ EXISTS is safer when NULLs are present.


| Feature          | IN                | EXISTS               |
| ---------------- | ----------------- | -------------------- |
| What it checks   | Value list        | Row existence        |
| Best when        | Subquery is small | Outer table is large |
| Deals with NULLs | âŒ Problematic     | âœ” Safe               |
| How it works     | Compares values   | Checks row existence |
| Type             | Non-correlated    | Correlated subquery  |

âœ” Final One-Line Answer for Interviews
IN compares values and may perform poorly with large lists or NULL values, while EXISTS checks for the presence of rows and performs better with large datasets.


*****************************************************************************************************************************************************

ğŸ”¥ ANY vs ALL in SQL
Both ANY and ALL are used with subqueries to compare values.
They modify comparison operators (>, <, =, !=, etc.)

âœ… 1ï¸âƒ£ ANY (or SOME) ğŸ‘‰ Think: â€œIf it matches ANY one value, return TRUEâ€

âœ” Another Example:    WHERE age = ANY (30, 40, 50)  <==> Equivalent to <==>  WHERE age IN (30, 40, 50)
ğŸ‘‰ ANY = IN when used with = operator.


âœ… 2ï¸âƒ£ ALL ğŸ‘‰ Think: â€œMust satisfy the condition for all valuesâ€

âœ” Another Example:   WHERE age != ALL (30, 40, 50)  <==> Equivalent to <==>  WHERE age NOT IN (30, 40, 50)
ğŸ‘‰ != ALL => NOT IN

| Feature         | ANY                                    | ALL                                  |
| --------------- | -------------------------------------- | ------------------------------------ |
| Condition       | True if matches **one or more** values | True only if matches **every** value |
| Logical meaning | At least one                           | Every one                            |
| Works like      | MIN check (for >)                      | MAX check (for >)                    |
| Example meaning | > ANY (values) â†’ > minimum             | > ALL (values) â†’ > maximum           |

ğŸ¯ Final Interview Answer (Short)
ANY returns TRUE if the condition matches at least one value from the subquery.
ALL returns TRUE only if the condition matches every value in the subquery.
> ANY compares with the minimum, while > ALL compares with the maximum.



*********************************************************************************************************

ğŸ”¥ What is a VIEW in SQL?
A View is a virtual table created from the result of a SQL query.
It does not store data physically (most of the time) â€” it only stores the query, and data is fetched from underlying tables whenever the view is used.
ğŸ‘‰ Think of a view as a saved SQL query that behaves like a table.

Create a view:
CREATE VIEW emp_it AS
SELECT id, name, salary FROM employees
WHERE department = 'IT';

Now you can treat the view like a table:

SELECT * FROM emp_it;

â¡ Shows only IT department employees.


â“ 2. Why use views?
To simplify queries, secure sensitive data, improve abstraction and Reusability & Maintainability

***************************************************************************************************************************

âœ… SQL Clauses
SQL Clauses are special keywords used in a query to filter, sort, group, or limit data.
They help define conditions, ranges, and structure of SELECT operations.
A clause is not a command by itself â€” it is a part of a SQL query.

â­ List of Major SQL Clauses
| Clause             | Purpose                            |
| ------------------ | ---------------------------------- |
| **WHERE**          | Filters rows based on condition    |
| **HAVING**         | Filters groups after aggregation   |
| **ORDER BY**       | Sorts result (ASC/DESC)            |
| **GROUP BY**       | Groups rows for aggregation        |
| **LIMIT / OFFSET** | Restricts number of rows returned  |
| **DISTINCT**       | Removes duplicate rows             |
| **BETWEEN**        | Filters values in a range          |
| **LIKE**           | Filters using pattern matching     |
| **IN**             | Filters using multiple values      |
| **EXISTS**         | Checks if subquery returns any row |
| **AND / OR**       | Combine conditions                 |
| **IS NULL**        | Check NULL values                  |


************************************************************************************************
ğŸ“Œ 5. LIMIT & OFFSET (MySQL) => Used to return limited rows.
Example:
SELECT * FROM employees
LIMIT 5 OFFSET 10;

(returns 5 rows starting from the 11th row)
************************************************************************************************

â­ Example Combining Most Clauses

SELECT department, COUNT(*) AS total
FROM employees
WHERE salary > 30000              -- filter rows
GROUP BY department                -- group rows
HAVING COUNT(*) > 5               -- filter groups
ORDER BY total DESC               -- sorting
LIMIT 3;                          -- limit results



ğŸ§  KEY DIFFERENCE TABLE âœ… WHERE vs HAVING
| Feature               | WHERE           | HAVING                   |
| --------------------- | --------------- | ------------------------ |
| Filters               | Rows            | Groups (aggregated data) |
| Used When             | Before GROUP BY | After GROUP BY           |
| Works on              | Individual rows | Aggregated results       |
| Can use aggregates?   | âŒ No           | âœ… Yes                   |
| Query execution stage | Early           | After grouping           |

â­ Memory Trick
ğŸ‘‰ WHERE = Filter BEFORE grouping => Can not use aggregate functions (COUNT, MAX, MIN, AVG, SUM).
ğŸ‘‰ HAVING = Filter AFTER grouping => Can use aggregate functions.


***************************************************************************************************************

âœ… What Are Aggregate Functions in SQL?
Aggregate functions perform a calculation on a set of values and return a single value (summary).

â­ List of Major Aggregate Functions
| Function    | Description                       |
| ----------- | --------------------------------- |
| **COUNT()** | Counts rows                       |
| **SUM()**   | Returns total of a numeric column |
| **AVG()**   | Returns average value             |
| **MAX()**   | Returns maximum value             |
| **MIN()**   | Returns minimum value             |


â­ Important Notes (Interview Points)

ğŸ”¹ Aggregate functions ignore NULL values
Example: SELECT AVG(bonus) FROM employees;
If some bonuses are NULL â†’ they are skipped.


ğŸ”¹ Aggregate functions require GROUP BY when selecting NON-aggregated columns

âŒ Invalid: (If department is not grouped)
SELECT department, SUM(salary)
FROM employees;

âœ” Correct:
SELECT department, SUM(salary)
FROM employees
GROUP BY department;


ğŸ”¹ Aggregate functions can be used in HAVING but not in WHERE

âŒ Invalid: WHERE COUNT(*) > 5

âœ” Valid: HAVING COUNT(*) > 5


****************************************************************************************************************************

âœ… What Are SQL Constraints?
SQL Constraints are rules applied on table columns to ensure the correctness, reliability, and integrity of the data.
They prevent invalid data from entering the database.

â­ Types of SQL Constraints
| Constraint                 | Purpose                                          |
| -------------------------- | ------------------------------------------------ |
| **NOT NULL**               | Ensures a column cannot store NULL values        |
| **UNIQUE**                 | Ensures all values in a column are unique        |
| **PRIMARY KEY**            | Uniquely identifies each row (NOT NULL + UNIQUE) |
| **FOREIGN KEY**            | Creates a link between two tables                |
| **CHECK**                  | Ensures a condition must be true                 |
| **DEFAULT**                | Sets a default value if none is provided         |
| **AUTO_INCREMENT** (MySQL) | Automatically generates unique values            |


â­ Example: Table With All Constraints
CREATE TABLE employees (
    emp_id INT AUTO_INCREMENT PRIMARY KEY,
    name VARCHAR(50) NOT NULL,
    email VARCHAR(100) UNIQUE,
    age INT CHECK(age >= 18),
    department_id INT,
    salary DECIMAL(10,2) DEFAULT 30000,
    FOREIGN KEY (department_id) REFERENCES departments(id)
);

Composite Primary Key: PRIMARY KEY (order_id, product_id)


â­ INTERVIEW KEY POINTS
âœ” PRIMARY KEY = UNIQUE + NOT NULL
âœ” FOREIGN KEY ensures referential integrity
âœ” CHECK used for conditions
âœ” DEFAULT assigns automatic values
âœ” Constraints prevent invalid data before saving
âœ” You cannot have two primary keys but can have multiple unique keys

â­ Constraints Can Be Added Later (ALTER TABLE)
Add constraint:
ALTER TABLE employees
ADD CONSTRAINT chk_salary CHECK (salary > 10000);

Drop constraint:
ALTER TABLE employees
DROP CONSTRAINT chk_salary;



âœ… What Are Aliases in SQL?
Aliases are temporary names given to columns or tables in SQL queries to make them:
Shorter
More readable
Easier to reference

Aliases do not change the original table/column name.
They exist only for that particular query.

You create an alias using the keyword AS (optional in SQL).

â­ Types of Aliases
1) Column Alias
2) Table Alias

ğŸ“Œ Aliases Cannot Be Used in WHERE Clause
(Because WHERE executes before SELECT)

âŒ Invalid:
SELECT salary * 12 AS annual_salary
FROM employees
WHERE annual_salary > 500000;


âœ” Use HAVING (or repeat expression):

SELECT salary * 12 AS annual_salary
FROM employees
HAVING annual_salary > 500000;

or

SELECT salary * 12 AS annual_salary
FROM employees
WHERE salary * 12 > 500000;


â­ Interview Summary (Quick)

Aliases are temporary names for columns or tables
Created with or without AS
Useful in joins, subqueries, and calculated columns
Mandatory in self-joins
Not allowed in WHERE clause





âœ… Types of Keys in DBMS
Keys are attributes (columns) used to identify records, maintain relationships, and ensure data integrity in a database.


ğŸ“Œ Simple Diagram (Conceptually)
Super Keys
   â†“ (minimal keys)
Candidate Keys
   â†“ (one chosen)
Primary Key



â­ Summary Table (Best for Interviews)
| Key               | Purpose                                       |
| ----------------- | --------------------------------------------- |
| **Primary Key**   | Unique + Not Null                             |
| **Foreign Key**   | Connects two tables                           |
| **Candidate Key** | All possible unique keys                      |
| **Alternate Key** | Candidate keys except primary key             |
| **Super Key**     | Any unique identifier (may have extra fields) |
| **Composite Key** | Multiple columns as primary key               |
| **Unique Key**    | Unique but allows NULL                        |
| **Surrogate Key** | System-generated PK                           |
| **Natural Key**   | Real-world key (email, SSN)                   |


â­ 11. Candidate Key vs Super Key (Important)
| Type              | Meaning                                                             |
| ----------------- | ------------------------------------------------------------------- |
| **Super Key**     | Any key that can uniquely identify rows (may include extra columns) |
| **Candidate Key** | Minimal super key (no extra columns)                                |

Every candidate key is a super key,
but every super key is NOT a candidate key.

â­ 7. Unique Key => Ensures all values in a column are unique, but allows one NULL (varies by DBMS).





âœ… What is a JOIN in SQL?
A JOIN is used to combine rows from two or more tables based on a related column between them (usually a primary key â†’ foreign key relationship).
Joins help in retrieving meaningful combined data from multiple tables.

â­ Types of Joins in SQL
| Join Type           | What It Returns                                 |
| ------------------- | ----------------------------------------------- |
| **INNER JOIN**      | Matching rows from both tables                  |
| **LEFT JOIN**       | All rows from left + matching from right        |
| **RIGHT JOIN**      | All rows from right + matching from left        |
| **FULL OUTER JOIN** | All rows from both tables (matched + unmatched) |
| **CROSS JOIN**      | Cartesian product (all combinations)            |
| **SELF JOIN**       | Join a table with itself                        |

(MySQL does NOT support FULL OUTER JOIN directly)

â­ 4. FULL OUTER JOIN
Returns:
All matched rows
Unmatched rows from both tables

ğŸ“Œ Not supported directly in MySQL, but possible using UNION.

Standard SQL:
SELECT e.name, d.dept_name
FROM employees e
FULL OUTER JOIN departments d
ON e.dept_id = d.dept_id;

MySQL Alternative:
SELECT e.name, d.dept_name
FROM employees e
LEFT JOIN departments d ON e.dept_id = d.dept_id
UNION
SELECT e.name, d.dept_name
FROM employees e
RIGHT JOIN departments d ON e.dept_id = d.dept_id;


â­ 5. CROSS JOIN
Returns Cartesian product = every row of left Ã— every row of right.

Query:
SELECT e.name, d.dept_name
FROM employees e
CROSS JOIN departments d;

If:
employees = 3 rows
departments = 3 rows
Total = 3Ã—3 = 9 rows.


â­ 6. SELF JOIN
Joining a table with itself.

Example:
Employees and their managers in the same table.

SELECT e.name AS employee, m.name AS manager
FROM employees e
JOIN employees m
ON e.manager_id = m.id;



â­ Best Interview Explanation
ğŸ‘‰ INNER JOIN = Only common data
ğŸ‘‰ LEFT JOIN = All left + matching right
ğŸ‘‰ RIGHT JOIN = All right + matching left
ğŸ‘‰ FULL JOIN = Everything from both tables
ğŸ‘‰ CROSS JOIN = Every combination
ğŸ‘‰ SELF JOIN = Join the table with itself


*************************************************************************************
The query:
SELECT e.name, d.dept_name
FROM employees e
JOIN departments d 
ON e.dept_id = d.dept_id;

This is an INNER JOIN.

âœ… Reason (Interview Explanation)
In SQL:
JOIN without specifying LEFT/RIGHT/FULL
ğŸ‘‰ Defaults to INNER JOIN

So: JOIN = INNER JOIN

This means the query will only return matching rows where: employees.dept_id = departments.dept_id
âœ” Final Answer: INNER JOIN
*************************************************************************************


SELECT e.name, d.dept_name FROM employees e 
FULL JOIN departments d ON e.dept_id = d.dept_id

ğŸ”¹ Full Outer Join (FULL JOIN)

âœ” Explanation
FULL JOIN (or FULL OUTER JOIN) returns:
All matching rows between employees and departments
Plus all non-matching rows from employees
Plus all non-matching rows from departments
Where values donâ€™t match, SQL fills them with NULL.

FULL JOIN (or FULL OUTER JOIN)
ğŸ‘‰ Your query is a FULL OUTER JOIN.




âœ… Is NATURAL JOIN available in SQL?
âœ” Supported in: MySQL, Oracle, PostgreSQL, SQLite

âŒ Not supported in: SQL Server (it does NOT support NATURAL JOIN)

âœ… What is NATURAL JOIN?
A NATURAL JOIN automatically joins tables using all columns with the same name in both tables.

Example:
SELECT *
FROM employees
NATURAL JOIN departments;

âœ” How it works:
SQL automatically finds matching column names (e.g., dept_id)
Joins using dept_id = dept_id
Removes the duplicate column from output

âš ï¸ Why NATURAL JOIN is rarely recommended?
It depends on column names, not logic
If someone renames a column later â†’ your query breaks or behaves differently
Harder to read and maintain

ğŸ‘ Better alternative (recommended)
Use INNER JOIN with explicit condition:
SELECT *
FROM employees e
JOIN departments d ON e.dept_id = d.dept_id;




âœ… SQL Set Operations : 
SQL Set Operations allow you to combine the results of two or more SELECT queries.
They work like mathematical set operations.

âœ… List of SQL Set Operations
| Set Operation      | Description                                                    | Removes Duplicates? | Allows Duplicates? |
| ------------------ | -------------------------------------------------------------- | ------------------- | ------------------ |
| **UNION**          | Combines results of two queries                                | âœ” Yes               | âŒ No               |
| **UNION ALL**      | Combines results including duplicates                          | âŒ No                | âœ” Yes              |
| **INTERSECT**      | Returns only matching rows present in both queries             | âœ” Yes               | âŒ No               |
| **EXCEPT / MINUS** | Returns rows from first query that are **not** in second query | âœ” Yes               | âŒ No               |


1ï¸âƒ£ UNION => Merges results from both queries
            Removes duplicates

SELECT name FROM employees
UNION
SELECT name FROM managers;


2ï¸âƒ£ UNION ALL => Merges results
                Keeps duplicate records

SELECT name FROM employees
UNION ALL
SELECT name FROM managers;


3ï¸âƒ£ INTERSECT => Returns only common rows between both queries

SELECT name FROM employees
INTERSECT
SELECT name FROM managers;

ğŸ“Œ Not supported in MySQL before version 8.0.31.


4ï¸âƒ£ EXCEPT / MINUS => Returns rows that are present in first result but not in second

PostgreSQL / SQL Server â†’ EXCEPT
SELECT name FROM employees
EXCEPT
SELECT name FROM managers;


Oracle â†’ MINUS
SELECT name FROM employees
MINUS
SELECT name FROM managers;


âš  Requirements for all Set Operations
Both queries must have:
- Same number of columns
- Same data types
- Same column order




âœ… What is an Index in SQL?
An Index in SQL is a data structure (usually a B-Tree or Hash) that improves the speed of data retrieval on a table.

It works like an index in a book:
Instead of scanning all pages, you directly jump to the page where the topic is listed.

ğŸ‘‰ Indexes make SELECT queries faster
ğŸ‘‰ But they slow down INSERT, UPDATE, DELETE (because index must be updated)

ğŸ§  How Index Works Internally?
The database creates a tree-like structure (typically B-Tree) for indexed columns.
Example:
| id | name  |
| -- | ----- |
| 1  | Mohit |
| 2  | Priya |
| 3  | Aryan |
If name is indexed, SQL sorts the column internally â†’ searching becomes O(log n) instead of O(n).

â­ Why Use Index? (Advantages)
âœ” Faster SELECT queries
Especially for: WHERE conditions, JOIN conditions, ORDER BY / GROUP BY, Searching large tables
âœ” Helps maintain UNIQUE constraints
âœ” Improves query optimization


âš  Drawbacks of Index
âŒ Slows down INSERT, UPDATE, DELETE
Because the index must be updated as well.

âŒ Takes extra memory
Indexes require storage space.

âŒ Too many indexes hurt performance
Use only when necessary.


ğŸ”¥ When to Use Index
Use index on columns that are:
âœ” Frequently used in WHERE
âœ” Used in JOIN
âœ” Used in ORDER BY / GROUP BY
âœ” Large tables


ğŸ” How to Create an Index
CREATE INDEX idx_name
ON employees(name);

ğŸ—‘ How to Drop an Index
DROP INDEX idx_name ON employees;



******************************************************************************************************************************************************


âœ… What is CASCADE in SQL?
CASCADE is an action used in FOREIGN KEY constraints to automatically apply changes (UPDATE or DELETE) from a parent table to a child table.
It ensures referential integrity without manually updating related rows.

ğŸ”¥ Types of CASCADE Actions
There are two main CASCADE options:

1ï¸âƒ£ ON DELETE CASCADE
If a row in the parent table is deleted â†’
all matching rows in the child table are also deleted automatically.

ğŸ“Œ Example
Parent table: departments
| dept_id | dept_name |
| ------- | --------- |

Child table: employees
| emp_id | emp_name | dept_id |

With CASCADE:
CREATE TABLE employees (
  emp_id INT PRIMARY KEY,
  emp_name VARCHAR(50),
  dept_id INT,
  FOREIGN KEY (dept_id)
    REFERENCES departments(dept_id)
    ON DELETE CASCADE
);

What happens?
If you run:
DELETE FROM departments WHERE dept_id = 10;

â¡ All employees belonging to dept_id = 10 will be automatically deleted.

âœ” Prevents orphan records
âœ” Maintains referential integrity



2ï¸âƒ£ ON UPDATE CASCADE
If the parent key is updated â†’
child table automatically updates the foreign key to match.

Example:
FOREIGN KEY(dept_id)
REFERENCES departments(dept_id)
ON UPDATE CASCADE;

If dept_id changes from 10 â†’ 20 in departments,
the employees table will also update automatically.


ğŸ¯ Why use CASCADE?
âœ” Maintains Data Consistency
Child records cannot become invalid.

âœ” Reduces Manual Work
You donâ€™t need to update/delete data in multiple tables manually.

âœ” Prevents Orphan Records
No employee will refer to a department that no longer exists.


âš  When NOT to use CASCADE?
âŒ If you delete a department, you may accidentally delete all employees.
âŒ Critical data should not be deleted automatically.
âŒ Use carefully in production systems.


ğŸŒŸ Real-world Example
E-commerce
Parent: Orders
Child: OrderItems

If an order is canceled (deleted):
ğŸ‘‰ all order items should automatically delete â†’ ON DELETE CASCADE


ğŸ“Œ Interview Answer (Short)
CASCADE is an action used in foreign key constraints to automatically apply changes from the parent table to the child table.
ON DELETE CASCADE deletes related child rows automatically, and ON UPDATE CASCADE updates child rows when the parent key changes. It helps maintain referential integrity.






