‚úÖ EXISTS in SQL
EXISTS is a Boolean operator in SQL that checks whether a subquery returns at least one row.
If the subquery returns 1 or more rows ‚Üí EXISTS = TRUE
If the subquery returns 0 rows ‚Üí EXISTS = FALSE
It is commonly used with correlated subqueries.

‚ú® Key Points
EXISTS does not return data ‚Äî it only checks if rows exist.
The subquery usually references the outer query (correlated subquery).
SQL stops searching as soon as it finds one matching row ‚Üí fast performance.


‚úÖ Example 1: Find employees who belong to at least one department
SELECT e.emp_id, e.name
FROM employees e
WHERE EXISTS (
    SELECT 1
    FROM departments d
    WHERE d.dept_id = e.dept_id
);

‚úî Why SELECT 1?

EXISTS ignores selected columns.
It only checks if any row is returned.


‚úÖ Example 2: Find customers who have placed at least one order
SELECT c.customer_id, c.name
FROM customers c
WHERE EXISTS (
    SELECT 1
    FROM orders o
    WHERE o.customer_id = c.customer_id
);

‚úî Returns only customers who have at least one order.


‚úÖ Example 3: NOT EXISTS

Find customers with no orders:

SELECT c.customer_id, c.name
FROM customers c
WHERE NOT EXISTS (
    SELECT 1
    FROM orders o
    WHERE o.customer_id = c.customer_id
);


üî• EXISTS vs IN (Quick Difference)
| Feature            | EXISTS                 | IN                             |
| ------------------ | ---------------------- | ------------------------------ |
| Works better with  | Large subquery results | Small subquery results         |
| Checks             | Row existence          | Matching values                |
| Behavior with NULL | Safe                   | Can give wrong/missing results |


üéØ When to use EXISTS?
Use EXISTS when:
- You are checking existence of related rows.
- You need a correlated check.
- The subquery returns large data.
- You want the query to stop early after the first match.


*************************************************************************************************************************


CREATE TABLE logs (
    id INT PRIMARY KEY,
    message VARCHAR(255),
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

Whenever a row is inserted ‚Üí created_at automatically stores system time.


1. CURRENT_TIMESTAMP
SELECT CURRENT_TIMESTAMP; ‚û° Returns current date + time

2. NOW()
SELECT NOW(); ‚û° Same as CURRENT_TIMESTAMP


üìÜ 2. Date & Time Functions (Most Important for SQL Interviews)

‚≠ê 1. DATE() => Extracts only the date part.
SELECT DATE('2025-02-21 10:35:20'); 
-- Output: 2025-02-21


‚≠ê 2. TIME() => Extracts only the time part.
SELECT TIME('2025-02-21 10:35:20');


‚≠ê 3. DAY(), MONTH(), YEAR()
SELECT YEAR(NOW());   -- 2025
SELECT MONTH(NOW());  -- 2
SELECT DAY(NOW());    -- 21


‚≠ê 4. DATE_ADD() => Add days/months/years.
SELECT DATE_ADD('2025-02-21', INTERVAL 7 DAY);


‚≠ê 5. DATE_SUB() => Subtract dates.
SELECT DATE_SUB('2025-02-21', INTERVAL 1 MONTH);


‚≠ê 6. DATEDIFF()

Difference in days.

SELECT DATEDIFF('2025-03-01','2025-02-21');

‚≠ê 7. TIMESTAMPDIFF()

Difference in minutes/hours/days.

SELECT TIMESTAMPDIFF(HOUR, '2025-02-20 05:00:00', '2025-02-21 10:00:00');

‚≠ê 8. DAYNAME(), MONTHNAME()
SELECT DAYNAME('2025-02-21');   -- Friday
SELECT MONTHNAME('2025-02-21'); -- February

üîç 3. EXTRACT() Function

EXTRACT() is used to extract specific parts from a date/time.

Syntax:
EXTRACT(unit FROM date_value)

Examples:
‚úî Extract Year
SELECT EXTRACT(YEAR FROM '2025-02-21 10:30:00');

‚úî Extract Month
SELECT EXTRACT(MONTH FROM NOW());

‚úî Extract Day
SELECT EXTRACT(DAY FROM '2025-02-21');

‚úî Extract Hour / Minute / Second
SELECT EXTRACT(HOUR FROM '2025-02-21 10:30:00');
SELECT EXTRACT(MINUTE FROM '2025-02-21 10:30:00');

‚úî Extract Quarter
SELECT EXTRACT(QUARTER FROM '2025-02-21');
-- Output: 1

‚úî Extract Week
SELECT EXTRACT(WEEK FROM '2025-02-21');

üß† Most Asked Interview Examples
üî∏ Find employees who joined this year:
SELECT * FROM employees
WHERE YEAR(join_date) = YEAR(CURDATE());

üî∏ Find records created in last 7 days:
SELECT * FROM orders
WHERE order_date >= DATE_SUB(CURDATE(), INTERVAL 7 DAY);

üî∏ Group orders by month:
SELECT MONTHNAME(order_date) AS Month, COUNT(*) 
FROM orders
GROUP BY Month;

‚≠ê Short Interview Definition
Timestamp

A TIMESTAMP stores both date + time and can automatically capture the current system time when inserting or updating rows.

Extract

EXTRACT() pulls a specific part of a date/time like YEAR, MONTH, DAY, HOUR.

Date & Time Functions

Functions like NOW(), DATE(), CURDATE(), DATE_ADD(), DATEDIFF() help manipulate and calculate dates and times.




